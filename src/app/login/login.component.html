<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="login-container">
  <a routerLink="/home" class="back-home">
      <i class="back-icon">‚Üê</i> Back to Home
  </a>

  <div class="content-wrapper">
      <h2>Welcome Back</h2>
      <p class="subtitle">Login to continue your journey</p>

      <!-- Login Form -->
      <form #loginForm="ngForm" (ngSubmit)="onLogin(loginForm)">
          <div class="form-group">
              <div class="input-container">
                  <input 
                      type="email" 
                      name="email" 
                      [(ngModel)]="email" 
                      required 
                      email 
                      placeholder="Email Address"
                      #emailInput="ngModel"
                      [ngClass]="{'input-error': emailInput.invalid && (emailInput.dirty || emailInput.touched)}"
                  >
                  <i class="fas fa-envelope"></i>
              </div>
          </div>

          <div class="form-group">
              <div class="input-container">
                  <input 
                      [type]="showPassword ? 'text' : 'password'" 
                      name="password" 
                      [(ngModel)]="password" 
                      required 
                      minlength="6" 
                      placeholder="Password"
                      #passwordInput="ngModel"
                      [ngClass]="{'input-error': passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)}"
                  >
                  <i class="fas fa-lock"></i>
                  <span 
                      class="toggle-password" 
                      (click)="togglePasswordVisibility()"
                  >
                      <i class="fas" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
                  </span>
              </div>
          </div>

          <div class="form-options">
              <label class="remember-me">
                  <input 
                      type="checkbox" 
                      name="rememberMe"
                      [(ngModel)]="rememberMe"
                  >
                  Remember me
              </label>
              <a href="javascript:void(0)" class="forgot-password" (click)="onForgotPassword()">
                  Forgot Password?
              </a>
          </div>

          <button type="submit" [disabled]="isLoading">
              <span *ngIf="!isLoading">Login</span>
              <span *ngIf="isLoading" class="loader"></span>
          </button>

          <div *ngIf="errorMessage" class="message-animation">
              <p style="color: red; text-align: center; margin-top: 1rem;">
                  {{ errorMessage }}
              </p>
          </div>

          <div *ngIf="successMessage" class="message-animation">
              <p style="color: green; text-align: center; margin-top: 1rem;">
                  {{ successMessage }}
              </p>
          </div>
      </form>

      <div class="signup-prompt">
          Don't have an account?
          <a href="javascript:void(0)" class="signup-link" (click)="onSignUp()">
              Sign Up
          </a>
      </div>
      <div class="seller-prompt">
        Are You a Seller?
        <a routerLink="/seller-login" class="seller-login-link">
            Login as Seller
        </a>
    </div>
      <div class="admin-prompt">
          <a routerLink="/admin-login" class="admin-login-link">Login as Administrator</a>

      </div>
  </div>
</div>
